\documentclass[5pt]{extarticle} % Note the extarticle document class
\usepackage[margin=0.05in]{geometry} % Set 0.3-inch margins
\usepackage{multicol}              % For multi-column support
\usepackage{lipsum}                % Dummy text generator (optional)
\usepackage{amssymb} % math symbols
\setlength{\parskip}{0ex}
\setlength\parindent{0pt} % no indent
%% optional packages -- documentation at ctan.org
\usepackage{graphicx}  % image handline
\usepackage{amsmath}   % enhanced equation environments
\usepackage{tikz}      % block diagrams
\usetikzlibrary{positioning}  % allow relative positioning of tikz elements
\usepackage{pgfplots}  % package for plots, based on tikz
\usepackage{hyperref}
\usepackage{paracol}             % Import paracol package
\usepackage{float}

\newcommand{\customFigure}[3][]{%
    \vspace{-1.5em}
    \begin{figure}[H]
        \centering
        \includegraphics[width=#1\textwidth]{#2}
    \end{figure}
    \vspace{-1.5em}
}

\begin{document}
\begin{paracol}{3}
    {\tiny

    \textcolor{red}{\textbf{Modelling CS}} $u$: control input, $y$: plant output

    \textcolor{blue}{\textbf{State variable}} CS is in state variable form if \\ 
    $\overset{\cdot}{x}_1 = f_1 (t,x_1,\ldots,x_n,u), \ldots, \overset{\cdot}{x}_n = f_n (t,x_1,\ldots,x_n,u)$ \\
    $y=h(t,x_1,\ldots,x_n,u)$ is a collection of $n$ 1st order ODEs. 

    \textcolor{blue}{\textbf{Time-Invariant (TI)}} CS is TI if $f_i(\cdot)$ does not depend on $t$.

    \textcolor{blue}{\textbf{State space (SS)}} TI CS is in SS form if $ \dot{x} = f(x, u), y = h(x, u)$ where $x(t) \in \mathbb{R}^n$ is called the state.

    \textcolor{blue}{\textbf{Single-input-single-output (SISO)}} CS is SISO if $u(t), y(t) \in \mathbb{R}$.

    \textcolor{blue}{\textbf{LTI}} CS in SS form is LTI if $ \dot{x} = Ax + Bu, \; y = Cx + Du$ \\
    $A \in \mathbb{R}^{n \times n}, \; B \in \mathbb{R}^{n \times m}, \; C \in \mathbb{R}^{p \times n}, \; D \in \mathbb{R}^{p \times m}$ \\ 
    where $ x(t) \in \mathbb{R}^n, \; u(t) \in \mathbb{R}^m, \; y(t) \in \mathbb{R}^p. $

    \textcolor{blue}{\textbf{Input-Output (IO)}} LTI CS is in IO form if \\
    $ \frac{d^n y}{dt^n} + a_{n-1} \frac{d^{n-1} y}{dt^{n-1}} + \cdot + a_1 \frac{dy}{dt} + a_0 y = b_m \frac{d^m u}{dt^m} + \cdot + b_1 \frac{du}{dt} + b_0 u $ \\
    where $ m \leq n$ (causality)

    \textcolor{orange}{\textbf{IO to SS Model}} 1.  Define $x$ s.t. highest order derivative in $\overset{\cdot}{x}$ \\
    2. Write $\overset{\cdot}{x} = Ax + Bu = f(x,u)$ by isolating for components of $\overset{\cdot}{x}$\\ 
    3. Write $y = Cx + Du = h(x,u)$ by setting measurement output $y$ to component of $x$ 

    \textcolor{red}{\textbf{Equilibria}} $y_d$ (steady state) b/c if $y(0) = y_d$ at $t=0$, then $y(t) = y_d \; \forall t \geq 0$.

    \textcolor{blue}{\textbf{Equilibrium pair}} Consider the system $\overset{\cdot}{x} = f(x,u)$. The pair $(\bar{x}, \bar{u})$ is an equilibrium pair if $f(\bar{x}, \bar{u}) = 0$.

    \textcolor{blue}{\textbf{Equilibrium point}} $\bar{x}$ is an equilibrium point w/ control $u=\bar{u}$. \\
    *If $u=\bar{u}$ and $x(0) = \bar{x}$ then $x(t) = \bar{x} \; \forall t \geq 0$ (i.e. a system that starts at equilibrium remains at equilibrium).

    \textcolor{orange}{\textbf{Find Equilibrium Pair/Point}} 1. Set $f(x,u) = 0$ \\
    2. Solve $f(x,u) = 0$ to find $(x,u) = (\bar{x}, \bar{u})$. \\
    3. If specific $u = \bar{u}$, then find $x = \bar{x}$ by solving $f(x,\bar{u}) = 0$.

    \textcolor{red}{\textbf{Linearization of Nonlinear System}} Consider system $\overset{\cdot}{x} = f(x,u)$ w/ equ. pair $(\bar{x}, \bar{u})$, then error coordinates around equ. pair $\delta x = x - \bar{x}$, $\delta u = u - \bar{u}$, $\delta y = y - h(\bar{x},\bar{u})$ w/ \\
    $\delta \overset{\cdot}{x} = A \delta x + B \delta u$, $A = \frac{\partial f (\bar{x}, \bar{u})}{\partial \underline{x}}  \in \mathbb{R}^{n_1 \times n_1}$, $B = \frac{\partial f (\bar{x}, \bar{u})}{\partial u} \in \mathbb{R}^{n_1}$, \\
    $\delta y = C \delta x + D \delta u$, $C = \frac{\partial h}{\partial \underline{x}} (\bar{x}, \bar{u}) \in \mathbb{R}^{1 \times n_1}$, $D = \frac{\partial h(\bar{x}, \bar{u})}{\partial u} \in \mathbb{R}$ \\
    *Only valid at equ. pairs.
    \customFigure[0.25]{../Images/L3_0.png}

    \textcolor{blue}{\textbf{Linear Approx.}} Given a diff. fcn. $f: \mathbb{R} \rightarrow \mathbb{R}$, its linear approx. at $\bar{x}$ is $f_{\text{lin}} = f(\bar{x}) + f'(\bar{x})(x-\bar{x})$. \\
    *Remainder Thm: $f(x) = f_{\text{lin}} + r(x)$ where $\lim_{x \rightarrow \bar{x}} \frac{r(x)}{x-\bar{x}} = 0$. 
    \customFigure[0.1]{../Images/L3_1.png}
    
    *Note: Can provide a good approx. near $\bar{x}$ but not globally. 
    
    *Gen. $f: \mathbb{R}^{n_1} \rightarrow \mathbb{R}^{n_2}$, $f(x) = f(\bar{x}) + \frac{\partial f}{\partial x}(\bar{x})(x-\bar{x}) + R(x)$ \\
    *Jacobian: $\frac{\partial f}{\partial x} (\bar{x})  = \begin{bmatrix} \frac{\partial f}{\partial x_1} (\bar{x})  & \ldots & \frac{\partial f}{\partial x_{n_1}} (\bar{x}) \end{bmatrix} \in \mathbb{R}^{n_2 \times n_1}$ 

    \textcolor{orange}{\textbf{Linearization Steps}} 1. Find equ. pair $(\bar{x}, \bar{u})$ \\
    2. Derive $A,B,C,D$ and then evaluate at $(\bar{x}, \bar{u})$ \\
    3. Write $\delta \overset{\cdot}{x} = A \delta x + B \delta u$ and $\delta y = C \delta x + D \delta u$ \\

    \textcolor{red}{\textbf{Laplace Transform}} Given a fcn $f: \mathbb{R}_+ = [0,\infty) \to \mathbb{R}^n$, its Laplace transform is 
    $F(s) = \mathcal{L} \{ f(t) \} := \int_{0^-}^{\infty} f(t) e^{-st} \, dt$, $s \in \mathbb{C}$. \\ 
    *$\mathcal{L:} f(t) \mapsto F(s)$, $t \in \mathbb{R}_+$ (time dom.) \& $s \in \mathbb{C}$ (Laplace dom.).
    
    \textcolor{blue}{\textbf{P.W. CTS:}} A fcn $f: \mathbb{R}_+ \to \mathbb{R}^n$ is \textbf{p.w. cts} if on every finite interval of $\mathbb{R}$, $f(t)$ has at most a finite \# of discontinuity points ($t_i$) and the limits 
    $\lim_{t \to t_i^+} f(t)$, $\lim_{t \to t_i^-} f(t)$ are finite.

    \customFigure[0.1]{../Images/L4_0.png}

    \textcolor{blue}{\textbf{Exp. Order}} A function $f: \mathbb{R}_+ \to \mathbb{R}^n$ is of \textbf{exp. order} if $\exists$ constants $K, \rho, T > 0$ s.t. $\|f(t)\| \leq K e^{\rho t}$, $\forall t \geq T$.

    \textcolor{blue}{\textbf{Existence of LT Thm}} If $f(t)$ is p.w. cts and of exp. order w/ constants $K, \rho, T > 0$, then $F(\cdot)$ exists and is defined $\forall \, s \in D := \{s \in \mathbb{C} : \text{Re}(s) > \rho\}$ and $F(\cdot)$ is analytic on $D$. \\
    *Analytic fcn iff differentiable fcn. \\
    *$D$: Region of convergence (ROC), open half plane. \\
    \customFigure[0.1]{../Images/L4_1.png}

    \textcolor{blue}{\textbf{Unit Step}} $\mathbf{1}(t) := 
        \begin{cases} 
        1, & \text{if } t \geq 0 \\ 
        0, & \text{otherwise}
        \end{cases}$

    \textcolor{blue}{\textbf{Table of Common Laplace Transforms:}} $f(t) \; \mid \; F(s)$ \\ 
    $\mathbf{1}(t) \mapsto \frac{1}{s} \, \quad t \mathbf{1}(t) \mapsto \frac{1}{s^2} \quad t^k \, \mathbf{1}(t) \mapsto \frac{k!}{s^{k+1}} \quad e^{at} \, \mathbf{1}(t) \mapsto \frac{1}{s-a}$ \\ 
    $t^n e^{at} \, \mathbf{1}(t) \mapsto \frac{n!}{(s-a)^{n+1}} \quad \sin(at) \, \mathbf{1}(t) \mapsto \frac{a}{s^2 + a^2} \quad $ \\
    $ \cos(at) \, \mathbf{1}(t) \mapsto \frac{s}{s^2 + a^2} $

    \textcolor{blue}{\textbf{Prop. of Laplace Transform}} \textbf{Linearity:} \\ 
    $\mathcal{L} \{c f(t) + g(t)\} = c \mathcal{L} \{f(t)\} + \mathcal{L} \{g(t)\}, c \sim \text{constant}.$  
    
    \textbf{Differentiation:} If the Laplace transform of $f'(t)$ exists, then $\mathcal{L} \{f'(t)\} = s \mathcal{L} \{f(t)\} - f(0^-).$  \\
    If the Laplace transform of $f^{(n)}(t) := \frac{d^n f}{dt^n}(t)$ exists, then \\ 
    $\mathcal{L} \{f^{(n)}(t)\} = s^n \mathcal{L} \{f(t)\} - \sum_{i=1}^n s^{n-i} f^{(i-1)}(0^-).$  
    
    \textbf{Integration:}  
    $\mathcal{L} \left\{\int_0^t f(\tau) d\tau \right\} = \frac{1}{s} \mathcal{L} \{f(t)\}.$  
    
    \textbf{Convolution:} Let $(f * g)(t) := \int_0^t f(\tau) g(t-\tau) d\tau = \int_0^t f(t-\tau) g(\tau) d\tau$, then
    $\mathcal{L} \{(f * g)(t)\} = \mathcal{L} \{f(t)\} \mathcal{L} \{g(t)\}.$  
    
    \textbf{Time Delay:} $\mathcal{L} \{f(t-T) \mathbf{1}(t-T)\} = e^{-Ts} \mathcal{L} \{f(t)\}, T \geq 0.$  
    
    \textbf{Multiplication by $t$:} $\mathcal{L} \{t f(t)\} = -\frac{d}{ds} [\mathcal{L} \{f(t)\}].$  
    
    \textbf{Shift in $s$:} $\mathcal{L} \{e^{at} f(t)\} = \mathcal{L} \{f(t)\}\big|_{s \to s-a} = F(s-a)$, where $F(s) = \mathcal{L} \{f(t)\}$ \& $a ~ \text{const}$. \\   

    \textcolor{blue}{\textbf{Trig. Id.}} $2 \sin(2t) = 2 \sin(t) \cos(t)$, $\sin(a-b) = \sin(a) \cos(b) - \cos(a) \sin(b)$, $\cos(a-b) = \cos(a) \cos(b) + \sin(a) \sin(b)$
    
    \textcolor{orange}{\textbf{LT Steps:}} 1. Write $f(t)$ as a sum and use linearity \\
    *Trig. id. may be useful. \\
    2. Use prop. of LT and common LT to find $F(s)$  

    \textcolor{red}{\textbf{Inverse Laplace Transform}} Given $F(s)$, its inverse LT is  
    $f(t) = \mathcal{L}^{-1} \{ F(s) \} := \frac{1}{2\pi} \int_{c-j\infty}^{c+j\infty} F(s) e^{st} ds$ \\ 
    $= \lim_{w \to \infty} \frac{1}{2\pi} \int_{c-jw}^{c+jw} F(s) e^{st} ds$, $c \in \mathbb{C}$ is selected s.t. the line $L := \{s \in \mathbb{C} : s = c + j\omega, \omega \in \mathbb{R}\}$ is inside the ROC of $F(s)$.  

    \switchcolumn
    
    \textbf{Zero:} $z \in \mathbb{C}$ is a zero of $F(s)$ if $F(z) = 0$.  

    \textbf{Pole:} $p \in \mathbb{C}$ is a pole of $F(s)$ if $\frac{1}{F(p)} = 0$.  

    \textcolor{blue}{\textbf{Cauchy's Residue THM}} If $F(s)$ is analytic (complex diff.) everywhere except at isolated poles $\{p_1, \dots, p_N\}$, then \\
    $\mathcal{L}^{-1} \{ F(s) \} = \sum_{i=1}^N \text{Res} \left[ F(s) e^{st}, s = p_i \right] \mathbf{1}(t)$,  \\
    *$\text{Res}[F(s)e^{st}, s = p_i]$: Residue of $F(s)e^{st}$ at $s = p_i$.  
    
    \textcolor{blue}{\textbf{Residue Computation}} Let $G(s)$ be a complex analytic fcn w/ a pole at $s = p$, $r$ be the multiplicity of the pole $p$. Then  
    $\text{Res}[G(s), s = p] = \frac{1}{(r-1)!} \lim_{s \to p} \frac{d^{r-1}}{ds^{r-1}} \left[ G(s) (s-p)^r \right]$.  

    \textcolor{orange}{\textbf{Inv. LT Partial Frac.:}} 1. Factorize $F(s)$ into canonical form. \\
    2. Find coefficients of partial fraction and use LT table to find inverse LT. \\
    *Complete the square. 

    \textcolor{orange}{\textbf{Inv. LT Residue:}} 1. Find poles of $F(s)$ and their residues. \\
    2. Use Cauchy's Residue THM to find inverse LT.

    \textcolor{red}{\textbf{Transfer Function:}} Consider a CS in IO form. Assume zero initial conds. $y(0) = \cdots = y^{(n-1)}(0) = 0$ and \\ 
    $u(0) = \cdots = u^{(m-1)}(0) = 0$. Then the TF from $u$ to $y$ is \\
    $G(s) := \frac{y(s)}{u(s)} = \frac{b_m s^m + \cdots + b_0}{s^n + a_{n-1} s^{n-1} + \cdots + a_0}$. \\
    *\textbf{0 Ini. Conds.:} $y_0(s) = G(s) u(s)$ \\
    *\textbf{$\emptyset$ Ini. Conds.:} $y_{\emptyset}(s) = y_0(s) + \frac{\text{poly. based on initial conds.}}{s^n + a_{n-1} s^{n-1} + \cdots + a_0}$

    \textcolor{blue}{\textbf{Impulse Response:}} Given CS modeled by TF $G(s)$, its IR is  
    $g(t) := \mathcal{L}^{-1} \{ G(s) \}$. \\
    *$y(t) = \mathcal{L}^{-1} \{ Y(s) \} = \mathcal{L}^{-1} \{ G(s) U(s) \} = (g * u)(t).$  \\
    *If $u(t) = \delta(t)$, then $y(t) = (g * u)(t) = g(t) \text{ and } \mathcal{L} \{\delta(t)\} = 1.$  \\
    

        }
\end{paracol}

\end{document}
