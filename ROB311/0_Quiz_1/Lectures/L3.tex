\subsection{Setup of CSP}
\begin{definition}
    A \textbf{constraint satisfaction problem (CSP)} consists of:
    \begin{itemize}
        \item a set of \textbf{variables}, $\mathcal{V}$, where the domain of $V \in \mathcal{V}$ is $\text{dom}(V)$
        \item a set of \textbf{constraints}, $\mathcal{C}$, where the scope of $C \in \mathcal{C}$ is $\text{scp}(C) \subseteq \mathcal{V}$
    \end{itemize}
\end{definition}

\subsection{Assignment}
\begin{definition}
    An \textbf{assignment} is a set of pairs, \(\{(V, v)\}_{V \in \tilde{\mathcal{V}}}\), where \(v \in \text{dom}(V)\), and \(\tilde{\mathcal{V}} \subseteq \mathcal{V}\). It is \textbf{complete} if \(\tilde{\mathcal{V}} = \mathcal{V}\), and \textbf{partial} otherwise.
\end{definition}

\subsection{Formulating a CSP as a Search Problem}
\begin{motivation}
    We don't formulate a CSP as a search problem because the path tree of all possible ways to build a complete assignment is too large. The number of paths in the three is 
    \begin{equation*}
        \mathcal{O} \left(|\mathcal{V}|! \times b^d \right)
    \end{equation*}
    \begin{itemize}
        \item $b= \max_{V \in \mathcal{V}} |\text{dom}(V)|$
        \item $d = |\mathcal{V}|$
    \end{itemize}
\end{motivation}

\subsection{Consistent}
\subsubsection{Complete Assignment}
\begin{definition}
    A complete assignment, \(A\), is \textbf{consistent} if it satisfies every constraint \(\mathcal{C}\) with \(\text{scp}(\mathcal{C}) \subseteq \tilde{\mathcal{V}}\).
\end{definition}

\begin{warning}
    A solution to a CSP is any complete and consistent assignment.
\end{warning}

\subsubsection{Partial Assignment}
\begin{definition}
    A (possibly partial) assignment, \(\{(V, v)\}_{V \in \tilde{\mathcal{V}}}\), is \textbf{consistent} if it satisfies every constraint, \(C \in \mathcal{C}\) such that \(\text{scp}(C) \subseteq \tilde{\mathcal{V}}\).
\end{definition}

\subsubsection{k-Consistent}
\begin{definition}
    A CSP is \textbf{\(k\)-consistent} if for any consistent assignment of \(k - 1\) variables, \(\{(V, v)\}_{V \in \tilde{\mathcal{V}}}\), and any \(k^\text{th}\) variable, \(V'\), there is a value, \(v' \in \text{dom}(V')\), so the assignment, \(\{(V, v)\}_{V \in \tilde{\mathcal{V}}} \cup \{(V', v')\}\) is consistent.
\end{definition}

\begin{notes}
    \begin{itemize}
        \item Edge/Arc Consistent: \(k = 2\)
    \end{itemize}
\end{notes}
\newpage

\subsection{Constraint Satisfaction Algorithm}
\begin{algo}
\begin{lstlisting}
$A \leftarrow \{\}$  (*\hfill $\triangleright$ initialize an empty assignment*)
for $V \in \mathcal{V}$ do $\mathcal{D}(V) \leftarrow \text{COPY}(\text{dom}(V))$
SATISFY($\mathcal{V}, \mathcal{C}, \mathcal{D}, A$)
\end{lstlisting}
\end{algo}

\subsubsection{Satisfy}
\begin{algo}
\begin{lstlisting}
procedure SATISFY($\mathcal{V}, \mathcal{C}, \mathcal{D}, A$):
    if COMPLETE($A, \mathcal{V}$) then
        return $A$  (*\hfill $\triangleright$ a solution was found*)
    $V \leftarrow \text{REMOVE}(\mathcal{V}, A)$
    for $v \in \mathcal{D}(V)$ do  (*\hfill $\triangleright$ try each value in $V$'s current domain*)
        $\mathcal{D}' \leftarrow \text{COPY}(\mathcal{D})$  (*\hfill $\triangleright$ cache the current domains for backtracking*)
        $A \leftarrow A \cup \{(V, v)\}$
        $\mathcal{D}(V) \leftarrow \{v\}$
        $\mathcal{D}, \text{success} \leftarrow \text{ENFORCE}(\mathcal{V}, \mathcal{C}, \mathcal{D}, V, k)$
        if success then  (*\hfill $\triangleright$ enforce k consistency*)
            $A \leftarrow \text{SATISFY}(\mathcal{V}, \mathcal{C}, \mathcal{D}, A)$  (*\hfill $\triangleright$ recursively continue if possible*)
            if $A \neq \text{NULL}$ then
                return $A$
        $\mathcal{D} \leftarrow \mathcal{D}'$  (*\hfill $\triangleright$ backtrack if not possible*)
        $A \leftarrow A \setminus \{(V, v)\}$
    return NULL  (*\hfill $\triangleright$ No solution found in this branch*)
\end{lstlisting}
\end{algo}

\subsubsection{Enforce: Enforcing k-Consistency}
\begin{algo} Pre-pruning: Enforce without assigning any variables. 
\begin{lstlisting}
procedure ENFORCE($\mathcal{V}, \mathcal{C}, \mathcal{D}, V, k$):
    $Q \leftarrow \{C \in \mathcal{C} \text{ s.t. } V \in \text{scp}(C)\}$ (*\hfill $\triangleright$ initialize affected constraints*)
    while $Q \neq \emptyset$ do
        $C \leftarrow \text{REMOVE}(Q)$
        for $V' \in \text{scp}(C)$ do (*\hfill $\triangleright$ enforce consistency on each variable w.r.t. each affected constraint*)
            success $\leftarrow \text{ENFORCEVAR}(k, V', \mathcal{V}, \mathcal{C}, \mathcal{D})$
            if not success then
                return False  (*\hfill $\triangleright$ consistency could not be enforced*)
            $Q \leftarrow Q \cup \{C' \in \mathcal{C} \mid V' \in \text{scp}(C')\}$
    return True  (*\hfill $\triangleright$ consistency was enforced*)
\end{lstlisting}
\end{algo}

\subsubsection{EnforceVar: Enforcing k-Consistency}
\begin{algo}
\begin{lstlisting}
procedure ENFORCEVAR($\mathcal{V}, \mathcal{C}, \mathcal{D}, V, k$):
    for $v \in \mathcal{D}(V)$ do
        for $C \in \mathcal{C}$ do
            if $V \in \text{scp}(C)$ and $|\text{scp}(C)| \leq k$ then
                flag $\leftarrow$ False
                for $A \in \mathcal{X} \times \mathcal{D}(V')$ do
                    if $A \cup \{(V, v)\} \in \mathcal{C}$ then
                        flag $\leftarrow$ True
                        break
                if not flag then
                    $\mathcal{D}(V) \leftarrow \mathcal{D}(V) \setminus \{v\}$
                if $\mathcal{D}(V) = \emptyset$ then
                    return False  (*\hfill $\triangleright$ no valid domain values remain for $V$*)
    return True
\end{lstlisting}
\end{algo}
\newpage

\subsection{Canonical Problems}
\begin{process} \textbf{Setup of CSP:}
    \begin{enumerate}
        \item Determine variables to track, domain of each variable, and constraints.
    \end{enumerate}
\end{process}
\begin{example}
    \customFigure[0.5]{../Images/L3_0.png}{Information}
    \customFigure[0.5]{../Images/L3_1.png}{Variables}
    \customFigure[0.5]{../Images/L3_2.png}{Constraints}
\end{example}
\newpage

\begin{process} \textbf{How to build a hyper-graph?}
    \begin{enumerate}
        \item Circle the variables that appear in constraint $C_i \; \forall i$.
    \end{enumerate}
\end{process}

\begin{example}
    \customFigure[0.5]{../Images/L3_3.png}{}
\end{example}

% \begin{process} \textbf{How to build a path tree?}
%     \begin{enumerate}
%         \item 
%     \end{enumerate}
% \end{process}

% \begin{example}
%     \customFigure[0.5]{../Images/L3_4.png}{}
%     \customFigure[0.5]{../Images/L3_5.png}{}
% \end{example}
\newpage

% \begin{process} \textbf{How to check $k$-Consistency?} 
%     \begin{enumerate}
%         \item Given $\mathcal{V}$ w/ $\text{dom}(V) = \{v_1,\ldots,v_{|\text{dom}(V)|}\} \; \forall V \in \mathcal{V}$ and $\mathcal{C}$ w/ $\text{scp}(C) = \{V_1,\ldots,V_{|\text{scp}(C)|}\} \; \forall C \in \mathcal{C}$.
%         \item Remove all constraints that have $k+1$ or more variables.
%         \item For each $C \in \mathcal{C}$, do the following:
%         \begin{enumerate}
%             \item For each $V \in \text{scp}(C)$, do the following:
%             \begin{enumerate}
%                 \item For each $v \in \text{dom}(V)$, do the following:
%             \end{enumerate}
%             \begin{itemize}
%                 \item Fix $V$ to $v$ for $k-1$ variables.
%                 \item For the last variable $V$, find a value in $\text{dom}(V)$ that satisfies all constraints.
%                 \item \textbf{Key:} If there is one combination that doesn't satisfy the constraint, then the CSP is not $k$-consistent.
%             \end{itemize}
%         \end{enumerate}
%         \item If all constraints are satisfied, then the CSP is $k$-consistent.
%     \end{enumerate}
% \end{process}

\begin{process} \textbf{How to Enforce $k$-Consistency?} 
    \begin{enumerate}
        \item Given $\mathcal{V}$ w/ $\text{dom}(V) = \{v_1,\ldots,v_{|\text{dom}(V)|}\} \; \forall V \in \mathcal{V}$ and $\mathcal{C}$ w/ $\text{scp}(C) = \{V_1,\ldots,V_{|\text{scp}(C)|}\} \; \forall C \in \mathcal{C}$.
        \item Remove all constraints that have $k+1$ or more variables and add the rest to a queue.
        \item \textbf{Pre-pruning:} For each remaining $C \in \mathcal{C}$, do the following:
        \begin{enumerate}
            \item For each $V \in \text{scp}(C)$, do the following:
            \begin{enumerate}
                \item For each $v \in \text{dom}(V)$, do the following:
            \end{enumerate}
            \begin{itemize}
                \item Fix $V$ to $v$.
                \item For the other $V \in \text{scp}(C)$, check if the constraint is satisfied by trying all combinations (need only one). 
                \item \textbf{Key:} If the constraint is not satisfied, then remove the value from $\text{dom}(V)$. Add any affected constraints back to the queue.
            \end{itemize}
        \end{enumerate}
        \item Repeat until the queue is empty.
    \end{enumerate}
\end{process}

\begin{warning}
    Can think of checking as picking $k-1$ variables, then choosing any value for the $k^\text{th}$ variable that satisfies all constraints. While enforcing is fixing a variable to a value, then checking if there is a combination for the other variables that satisfies all constraints.
\end{warning}

\begin{warning}
    Enforcing $k$-consistency is enforcing $k-1,\ldots,1$-consistency.
\end{warning}

\begin{process} \textbf{How to determine a solution to a CSP?}
    \begin{enumerate}
        \item After pre-pruning the domains. 
        \item Assign variables in alphabetical order and values in numerical order. 
        \item Prune the pre-pruned domains.
        \item If you can assign all variables, then you have a solution. If you have domain wipeout, backtrack.
        \item Repeat the process until you find all solutions. 
    \end{enumerate}
\end{process}

\begin{process} \textbf{Checking $k$-Consistency}
    \begin{enumerate}
        \item Enforce $k$-consistency. 
        \item If you have to pre-prune, then not $k$-consistent.
    \end{enumerate}
\end{process}
\newpage

\begin{example} \textbf{Pre-Pruning Domains}
    \customFigure[0.5]{../Images/L3_6.png}{}    
    \customFigure[0.5]{../Images/L3_7.png}{Pre-pruning. Since only one constraint, it is also pruning.}    
\end{example}
\newpage

\begin{example}
    \begin{enumerate}
        \item \textbf{Given:} Consider a CSP in which $\mathcal{V} = \{A, B, C, D, E\}$, where:

        \[
        \begin{aligned}
            \text{dom}(A) &= \{0, 1, 2, 3, 4\} \\
            \text{dom}(B) &= \{0, 1, 2, 3, 4\} \\
            \text{dom}(C) &= \{0, 1, 2, 3\} \\
            \text{dom}(D) &= \{0, 1, 2, 3, 4, 5\} \\
            \text{dom}(E) &= \{0, 1, 2, 3, 4, 5, 6\} 
        \end{aligned}
        \]
        
        and $\mathcal{C} = \{C_1, C_2, C_3, C_4\}$, where:
        
        \[
        \begin{aligned}
            C_1 &: 8 \leq 2a + 2b + 2d + 3e \leq 10 \\
            C_2 &: 3 \leq a + c \leq 4 \\
            C_3 &: 2 \leq a + b + 2c \leq 5 \\
            C_4 &: 1 \leq b \leq 2
        \end{aligned}
        \]
        
        \item \textbf{Problem:} Solve the following CSP using $k = 4$ consistency. Pre-prune the domains using $k = 4$ consistency. Assign variables in alphabetical order and values in numerical order.
    \end{enumerate}
\end{example}
\newpage

% \begin{example} \textbf{4-Consistency Pre-Pruning}
%     \begin{center}
%         \begin{tabular}{ll}
%             \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
%             \toprule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_4: 1 \leq b \leq 2$
%             \end{center}} \\
%             \midrule
%                 $b = 0$, $b=1$, $b=2$, $b=3$, $b=4$ & No, Yes, Yes, No, No \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, 2, 3\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_2: 3 \leq a + c \leq 4$
%             \end{center}} \\
%             \midrule
%                 $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
%                 $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, Yes \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, 2, 3\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_3: 2 \leq a + b + 2c \leq 5$
%             \end{center}} \\
%             \midrule
%                 $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
%                 $b=1$, $b=2$ & Yes, Yes \\
%                 $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, No \\

%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%         \end{tabular}
%     \end{center}
% \end{example}
% \newpage

% \begin{example} \textbf{4-Consistency Pre-Pruning Continued:}
%     \begin{center}
%         \begin{tabular}{ll}
%             \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
%             \toprule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_2: 3 \leq a + c \leq 4$
%             \end{center}} \\
%             \midrule
%                 $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes, Yes \\
%                 $c=0$, $c=1$, $c=2$ & Yes, Yes, Yes \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_3: 2 \leq a + b + 2c \leq 5$
%             \end{center}} \\
%             \midrule
%                 $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes \\
%                 $b=1$, $b=2$ & Yes, Yes \\
%                 $c=0$, $c=1$, $c=2$ & Yes, Yes, No \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_2: 3 \leq a + c \leq 4$
%             \end{center}} \\
%             \midrule
%                 $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes \\
%                 $c=0$, $c=1$ & Yes, Yes \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \midrule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_3: 2 \leq a + b + 2c \leq 5$
%             \end{center}} \\
%             \midrule
%                 $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes \\
%                 $b=1$, $b=2$ & Yes, Yes \\
%                 $c=0$, $c=1$ & Yes, Yes \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
%                 \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
%             \end{itemize}} \\
%             \bottomrule
%         \end{tabular}
%     \end{center}
% \end{example}
% \newpage

% \begin{example} \textbf{4-Consistency Pre-Pruning Continued:}
%     \begin{center}
%         \begin{tabular}{ll}
%             \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
%             \toprule
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{center}
%                 $C_1: 8 \leq 2a + 2b + 2d + 3e \leq 10$
%             \end{center}} \\
%             \midrule
%                 $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes \\
%                 $b=1$, $b=2$ & Yes, Yes \\
%                 $d=0$, $d=1$, $d=2$, $d=3$, $d=4$, $d=5$ & Yes, Yes, Yes, No, No, No \\
%                 $e=0$, $e=1$, $e=2$, $e=3$, $e=4$, $e=5$, $e=6$ & Yes, Yes, No, No, No, No \\
%             \multicolumn{2}{p{\linewidth}}{
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
%                 \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
%                 \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
%                 \item $\text{dom}(D) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}\} $
%                 \item $\text{dom}(E) = \{0, 1, \cancel{2}, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
%             \end{itemize}} \\
%             \bottomrule
%         \end{tabular}
%         \vspace{1em}

%         \begin{enumerate}
%             \item[4. ] \textbf{Conclusion:} This is the final pruned domain, which means if I fix a variable to a value, then I can find a satisfactory combination for the rest of the variables in this pruned domain.
%             \begin{itemize}
%                 \item $\text{dom}(A) = \{2, 3, 4\}$
%                 \item $\text{dom}(B) = \{1, 2\} $
%                 \item $\text{dom}(C) = \{0, 1\} $
%                 \item $\text{dom}(D) = \{0, 1, 2\} $
%                 \item $\text{dom}(E) = \{0, 1\} $
%             \end{itemize}
%         \end{enumerate}
%     \end{center}
% \end{example}
% \newpage

\begin{example} \textbf{4-Consistency Pre-Pruning}
    \begin{center}
        \begin{tabular}{lll}
            \textbf{Queue} & \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_4: 1 \leq b \leq 2$
            \end{center}} \\
            $\{C_2, C_3, C_1\}$    & $b = 0$, $b=1$, $b=2$, $b=3$, $b=4$ & No, Yes, Yes, No, No \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
                \item $\{C_2, C_3, C_1\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
                $\{C_3, C_1\}$ & $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
                - & $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, Yes \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
                \item $\{C_3, C_1\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
                $\{C_1\}$ & $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
                - & $b=1$, $b=2$ & Yes, Yes \\
                - & $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, No \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
                \item $\{C_1, C_2\}$
            \end{itemize}} \\
            \midrule
        \end{tabular}
    \end{center}
\end{example}
\newpage

\begin{example} \textbf{4-Consistency Continued:}
    \begin{center}
        \begin{tabular}{lll}
            \textbf{Queue} & \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_1: 8 \leq 2a + 2b + 2d + 3e \leq 10$
            \end{center}} \\
            $\{C_2\}$ & $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
            - & $b=1$, $b=2$ & Yes, Yes \\
            - & $d=0$, $d=1$, $d=2$, $d=3$, $d=4$, $d=5$ & Yes, Yes, Yes, Yes, Yes, No \\
            - & $e=0$, $e=1$, $e=2$, $e=3$, $e=4$, $e=5$, $e=6$ & Yes, Yes, Yes, No, No, No, No \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_2\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            $\{\}$ & $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes, Yes \\
            - & $c=0$, $c=1$, $c=2$ & Yes, Yes, Yes \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_3, C_1\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
            $\{C_1\}$ & $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes \\
            - & $b=1$, $b=2$ & Yes, Yes \\
            - & $c=0$, $c=1$, $c=2$ & Yes, Yes, No \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_1, C_2\}$
            \end{itemize}} \\
            \midrule
        \end{tabular}
    \end{center}
\end{example}
\newpage

\begin{example} \textbf{4-Consistency Continued:}
    \begin{center}
        \begin{tabular}{lll}
            \textbf{Queue} & \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_1: 8 \leq 2a + 2b + 2d + 3e \leq 10$
            \end{center}} \\
            $\{C_2\}$ & $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes \\
            - & $b=1$, $b=2$ & Yes, Yes \\
            - & $d=0$, $d=1$, $d=2$, $d=3$, $d=4$ & Yes, Yes, Yes, Yes, No \\
            - & $e=0$, $e=1$, $e=2$ & Yes, Yes, Yes \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, \cancel{4}, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_2\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            $\{\}$ & $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes \\
            - & $c=0$, $c=1$ & Yes, Yes \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, \cancel{4}, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_3,C_1\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
            $\{C_1\}$ & $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes \\
            - & $b=1$, $b=2$ & Yes, Yes \\
            - & $c=0$, $c=1$ & Yes, Yes \\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$, $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $, $\text{dom}(D) = \{0, 1, 2, 3, \cancel{4}, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{C_1\}$
            \end{itemize}} \\
            \midrule
            \multicolumn{3}{p{\linewidth}}{
            \begin{center}
                $C_1: 8 \leq 2a + 2b + 2d + 3e \leq 10$
            \end{center}} \\
            $\{\}$ & $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes \\
            - & $b=1$, $b=2$ & Yes, Yes \\
            - & $d=0$, $d=1$, $d=2$, $d=3$ & Yes, Yes, Yes, No\\
            - & $e=0$, $e=1$, $e=2$ & Yes, Yes, No\\
            \multicolumn{3}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$, $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $, $\text{dom}(D) = \{0, 1, 2, \cancel{3}, \cancel{4}, \cancel{5}\} $
                \item $\text{dom}(E) = \{0, 1, \cancel{2}, \cancel{3}, \cancel{4}, \cancel{5}, \cancel{6}\} $
                \item $\{\}$
            \end{itemize}} \\
            \bottomrule
        \end{tabular}
    \end{center}
\end{example}
\newpage

\begin{example} \textbf{4-Consistency Post-Pre-Pruning:}
    \[
        \begin{aligned}
            C_1 &: 8 \leq 2a + 2b + 2d + 3e \leq 10 \\
            C_2 &: 3 \leq a + c \leq 4 \\
            C_3 &: 2 \leq a + b + 2c \leq 5 \\
            C_4 &: 1 \leq b \leq 2
        \end{aligned}
    \]
    \begin{center}
        \begin{tabular}{ll}
            \textbf{Solution} & \textbf{Updated Necessary Domains After Assignment} \\
            \toprule   
            $A=2$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\ 
            $A=2,B=1$ & $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\           
            $A=2,B=1,C=1$ & $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=2,B=1,C=1,D=0$ & $\text{dom}(E) = \{\cancel{0},1\}$ \\
            $A=2,B=1,C=1,D=0,E=1$ & \textbf{Solution Found} \\
            \midrule
            $A=2$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\ 
            $A=2,B=1$ & $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\           
            $A=2,B=1,C=1$ & $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=2,B=1,C=1,D=1$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=2,B=1,C=1,D=1,E=0$ & \textbf{Solution Found} \\
            \midrule
            $A=2$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\ 
            $A=2,B=1$ & $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\           
            $A=2,B=1,C=1$ & $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=2,B=1,C=1,D=2$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=2,B=1,C=1,D=2,E=0$ & \textbf{Solution Found} \\
            \midrule 
            $A=2$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{\cancel{0},1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\ 
            $A=2,B=2$ & $\text{dom}(C) = \{\cancel{0},\cancel{1}\}$, $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\           
            - & \textbf{No Solution Found} \\
            \midrule 
            $A=3$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{0,1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=3,B=1$ & $\text{dom}(C) = \{0,\cancel{1}\}$, $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0$ & $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0,D=0$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0,D=0,E=0$ & \textbf{Solution Found} \\
            \midrule 
            $A=3$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{0,1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=3,B=1$ & $\text{dom}(C) = \{0,\cancel{1}\}$, $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0$ & $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0,D=1$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=1,C=0,D=1,E=0$ & \textbf{Solution Found} \\
            \midrule 
            $A=3$ & $\text{dom}(B) = \{1,2\}$, $\text{dom}(C) = \{0,1\}$, $\text{dom}(D) = \{0,1,2\}$, $\text{dom}(E) = \{0,1\}$ \\
            $A=3,B=2$ & $\text{dom}(C) = \{0,\cancel{1}\}$, $\text{dom}(D) = \{0,\cancel{1},\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=2,C=0$ & $\text{dom}(D) = \{0,\cancel{1},\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=2,C=0,D=0$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=3,B=2,C=0,D=0,E=0$ & \textbf{Solution Found} \\
            \midrule 
            $A=4$ & $\text{dom}(B) = \{1,\cancel{2}\}$, $\text{dom}(C) = \{0,\cancel{1}\}$, $\text{dom}(D) = \{0,1,\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=4,B=1$ & $\text{dom}(C) = \{0,\cancel{1}\}$, $\text{dom}(D) = \{0,\cancel{1},\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=4,B=1,C=0$ & $\text{dom}(D) = \{0,\cancel{1},\cancel{2}\}$, $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=4,B=1,C=0,D=0$ & $\text{dom}(E) = \{0,\cancel{1}\}$ \\
            $A=4,B=1,C=0,D=0,E=0$ & \textbf{Solution Found} \\
            \bottomrule
        \end{tabular}
    \end{center}
\end{example}
\newpage


\begin{example} \textbf{3-Consistency}
    \begin{center}
        \begin{tabular}{ll}
            \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_4: 1 \leq b \leq 2$
            \end{center}} \\
            \midrule
                $b = 0$, $b=1$, $b=2$, $b=3$, $b=4$ & No, Yes, Yes, No, No \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            \midrule
                $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
                $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, Yes \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
            \midrule
                $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
                $b=1$, $b=2$ & Yes, Yes \\
                $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, No \\

            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
        \end{tabular}
    \end{center}
\end{example}
\newpage

\begin{example}
    \begin{center}
        \begin{tabular}{ll}
            \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            \midrule
                $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes, Yes \\
                $c=0$, $c=1$, $c=2$ & Yes, Yes, Yes \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
            \midrule
                $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes \\
                $b=1$, $b=2$ & Yes, Yes \\
                $c=0$, $c=1$, $c=2$ & Yes, Yes, No \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            \midrule
                $a=1$, $a=2$, $a=3$, $a=4$ & No, Yes, Yes, Yes \\
                $c=0$, $c=1$ & Yes, Yes \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_3: 2 \leq a + b + 2c \leq 5$
            \end{center}} \\
            \midrule
                $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes \\
                $b=1$, $b=2$ & Yes, Yes \\
                $c=0$, $c=1$ & Yes, Yes \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{\cancel{0}, \cancel{1}, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, \cancel{2}, \cancel{3}\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \bottomrule
        \end{tabular}
    \end{center}
    \vspace{1em}

    \begin{enumerate}
        \item[4. ] \textbf{Conclusion:} $\text{dom}(A) = \{2, 3, 4\}$, $\text{dom}(B) = \{1, 2\}$, $\text{dom}(C) = \{0, 1\} $, $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\}$, $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\}$
    \end{enumerate}
\end{example}
\newpage

\begin{example} \textbf{2-Consistency}
    \begin{center}
        \begin{tabular}{ll}
            \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_4: 1 \leq b \leq 2$
            \end{center}} \\
            \midrule
                $b = 0$, $b=1$, $b=2$, $b=3$, $b=4$ & No, Yes, Yes, No, No \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \midrule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_2: 3 \leq a + c \leq 4$
            \end{center}} \\
            \midrule
                $a=0$, $a=1$, $a=2$, $a=3$, $a=4$ & Yes, Yes, Yes, Yes, Yes \\
                $c=0$, $c=1$, $c=2$, $c=3$ & Yes, Yes, Yes, Yes \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \bottomrule
        \end{tabular}
    \end{center}
    \vspace{1em}

    \begin{enumerate}
        \item[4. ] \textbf{Conclusion:} $\text{dom}(A) = \{0, 1, 2, 3, 4\}$, $\text{dom}(B) = \{1, 2\} $, $\text{dom}(C) = \{0, 1, 2, 3\} $, $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $, $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
    \end{enumerate}
\end{example}

\begin{example} \textbf{1-Consistency}
    \begin{center}
        \begin{tabular}{ll}
            \textbf{Fixed Value} & \textbf{Satisfactory Combination?} \\
            \toprule
            \multicolumn{2}{p{\linewidth}}{
            \begin{center}
                $C_4: 1 \leq b \leq 2$
            \end{center}} \\
            \midrule
                $b = 0$, $b=1$, $b=2$, $b=3$, $b=4$ & No, Yes, Yes, No, No \\
            \multicolumn{2}{p{\linewidth}}{
            \begin{itemize}
                \item $\text{dom}(A) = \{0, 1, 2, 3, 4\}$
                \item $\text{dom}(B) = \{\cancel{0}, 1, 2, \cancel{3}, \cancel{4}\} $
                \item $\text{dom}(C) = \{0, 1, 2, 3\} $
                \item $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $
                \item $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
            \end{itemize}} \\
            \bottomrule
        \end{tabular}
    \end{center}
    \vspace{1em}

    \begin{enumerate}
        \item[4. ] \textbf{Conclusion:} $\text{dom}(A) = \{0, 1, 2, 3, 4\}$, $\text{dom}(B) = \{1, 2\} $, $\text{dom}(C) = \{0, 1, 2, 3\} $, $\text{dom}(D) = \{0, 1, 2, 3, 4, 5\} $, $\text{dom}(E) = \{0, 1, 2, 3, 4, 5, 6\} $
    \end{enumerate}
\end{example}
